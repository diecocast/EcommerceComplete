<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
<script src="/socket.io/socket.io.js"></script>
 <body>
    <link rel="stylesheet" href="css/estilos.css">
    <h1>Bienvenido, {{user.name}} <a href=""><img width="10%" src='img/{{user.photo}}' alt="Invalid Link, Perfil photo"></a></div><br> <button id="myButton" type="button" class="btn btn-dark">Logout</button><br> <button id="view" type="button" class="btn btn-dark">Ver perfil</button>
    <script type="text/javascript">
    document.getElementById("myButton").onclick = function () {
        location.href = "/logout";
    };
    document.getElementById("view").onclick = function () {
        location.href = "/profile";
    };
    
</script></h1>
<div class="shop">
    <div class="container">
          <form class="addCart"action="/" method="post">
          <h1>list productos</h1>
      <table class="table table-striped">
        <thead>
          <tr>
            <th scope="col"><br>#Id</th>
            <th scope="col">Code</th>
            <th scope="col">Name</th>
            <th scope="col">Description</th>
            <th scope="col">Price</th>
            <th scope="col">Stock</th>
            <th scope="col">Thumbnail</th>
            <th scope="col">AddCart</th>
          </tr>
        </thead>  
        <tbody id="list"></tbody>
      </table>  
          </form>
    </div>

    <form class="addCart"action="/" method="post">
    <div class="cart">
    <h1>Tu carrito <a href="/"><img width="10%" src="img/refresh.png" alt="refresh">Refresh</a></h1>
    {{{endShop}}}
    <table class="table table-striped table-dark">
        <thead>
          <tr>
            <th scope="col"><br>Name</th>
            <th scope="col">Price</th>
            <th scope="col">Thumbnail</th>
            <th scope="col">Quantity</th>
            <th scope="col">Delete</th>
          </tr>
        </thead>  
      {{#each listCart}}
         <tbody>
          <tr>
            <td>{{this.name}}</td>
            <td>{{this.price}} </td>
            <td> <img src="img/{{this.thumbnail}}" alt="El enlace no esta disponible" width="60"></td>
            <td>{{this.quantity}}</td>
            <td> <button id="close" class="closing" formaction="/api/carts/delete/{{this.id}}"><img width="50px" src="img/delete.png" /></button></td>
          </tr>
         </tbody> 
      {{/each}}
    </table> 
    <h2>Total {{total}} Dolares</h2>
    </div> 
</div>
</form>


<div class="Former"> 
    <section class="AddProduct">
    <h2>Agregar Producto</h2>
    <form id="productsForm">
        <label>Name</label>
        <input name="name"required>
        <label>Description</label>
        <input name="description"required>
        <label>Price</label>
        <input type = "number" name="price"required>
        <label>Stock</label>
        <input type = "number" name="stock"required>
        <label>Photo</label>
        <input type="file" name="thumbnail" required>
        <input type="submit">
    </form>
    </section>

    <section class="Fuctions">
    <h2>Funciones</h2>
    <form action="/api/products/pid" method="get">
        <label><br>Buscar producto con id :</label>
        <input type = "number" name="pid"required>
        <br><button>Buscar id</button>
    </form>

    <form id="deleteForm">
        <label><br>Borrar por id:</label>
        <input type = "number" name="delete"required><br>
        <input type="submit">
    </form>
    </section>
    <section class="UpdateProduct">
    <h2>Actualizar producto</h2>
    <form id="updateForm">
        <label><br>Id del producto que quieres actualizar<br></label>
        <input type = "number" name="id"required>
        <label><br>Name<br></label>
        <input name="name"required>
        <label><br>Description<br></label>
        <input name="description"required>
        <label><br>Price<br></label>
        <input  type = "number" name="price"required>
        <label><br>Stock<br></label>
        <input  type = "number" name="stock"required>
        <label><br>Photo<br></label>
        <input type="file" name="thumbnailUpdate" required>
        <input type="submit">
    </form>
    </section>
</div> 

    <h1>Gracias por visitarnos</h1>
    <script src="js/index.js"></script>
    </body>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>


